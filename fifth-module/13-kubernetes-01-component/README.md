# Задание. Определить минимум требуемых ресурсов.

## Вводная

Из потребляемых ресурсов указаны только CPU и RAM, поэтому считать будем по ним.  

Необходимые ресурсы для проекта:

Компонент \ Ресурс | CPU, cores | RAM, Gb | Реплики | Sum CPU, cores | Sum RAM, Gb |
:---: | :---: | :---: | :---: | :---: | :---: |
БД | 1 | 4 | 3 | 3 | 12 |
Cache | 1 | 4 | 3 | 3 | 12 |
Frontend | 0.2 | 0.05 | 5 | 1 | 0.25 |
Backend | 1 | 0.6 | 10 | 10 | 6 |

* Будем брать 3 worker и 3 master node, допуская выход одной ноды из строя.
* Минимальная конфигурация master node разнится, но с запасом хватит по 2 CPU + 2 RAM на каждый инстанс.
* Системные процессы kube на worker node забирают примерно по 1 CPU + 1 RAM.
* Добавим 45% к максимально необходимому количеству ресурсов для обеспечения их достаточного количества в случае миграций при отказе ноды.

## Расчёт

Суммарно для проекта требуется 17 CPU и 30.25 RAM.
Соответственно, считаем(округляем в большую сторону):
* CPU total = 17 + 17*0.45 = 25, CPU per node = 25/3 + 1(for node service tasks) = 10
* RAM total = 30.25 + 30.25*0.45 = 44, RAM per node = 44/3 + 1(for node service tasks) = 16

## Итого

Потребуются 3 master node(2 CPU, 2 RAM для каждой), 3 worker node(10 CPU, 16 RAM для каждой).