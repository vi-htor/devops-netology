# Answers to questions

1. `chdir("/tmp")`.
2. Основная БД: `/usr/share/misc/magic.mgc`, однако так же ищет в пользовательких БД и конфигурационных файлах:
    ```
    /home/vi/.magic.mgc
    /home/vi/.magic
    /etc/magic.mgc
    /etc/magic
    ```
3. Вообще я бы не обнулял, а просто убил (и по необходимости перезапустил) бы процесс, пишущий в удалённый файл, отсеяв его с помощью lsof:
    ```
    #lsof |grep big.img
    less      2490      vi    3r      REG      253,0 1073741824     664457 /home/vi/test_dir/big.img (deleted)
    #kill -9 2490
    ```
   Но, если необходимо обнулить, то так же, с помощью `lsof` узнаю дескриптор (`3r`), и обнуляю его с помощью `echo '' >/proc/2490/fd/3`.
4. Нет, они в отлиичии от процессов-сирот освобождают свои ресурсы, но не освобождают запись в таблице процессов (вызов `wait()` от родителя освободит запись).
5. Ответ:
   ```
   PID    COMM               FD ERR PATH
   926    vminfo              5   0 /var/run/utmp
   628    dbus-daemon        -1   2 /usr/local/share/dbus-1/system-services
   628    dbus-daemon        20   0 /usr/share/dbus-1/system-services
   628    dbus-daemon        -1   2 /lib/dbus-1/system-services
   628    dbus-daemon        20   0 /var/lib/snapd/dbus-1/system-services/
   ```
6. `uname()`
   Цитата из `man uname.2`:
   ```
     Part of the utsname information is also accessible via /proc/sys/kernel/{ostype, hostname, osrelease, version, domainname}.
   ```
7. `;`  - разделитель последовательных команд, а `&&` -  условный оператор. В случае `test -d /tmp/some_dir && echo Hi` `echo` отработает только при успешном завершении `test`. Использовать `&&` при применении `set -e`(прерывание сессии при любом ненулевом значении исполняемых команд кроме последней) не имеет смысла, так как при ошибке выполнение команд остановится.
8. `-e` - прерывает выполнение исполнения при ошибке любой команды кроме последней в последовательности;  
   `-x` - вывод трейса простых команд;  
   `-u` - неустановленные или незаданные параметры и переменные считаются как ошибки, с выводом в stderr текста ошибки и завершением неинтерактивного вызова;  
   `-o pipefail` возвращает код возврата набора/последовательности команд, ненулевой при последней команде или 0 при успешном выполнении команд.
   Данный набор опций расширяет логгирование и прервёт выполнение сценария при возникновении ошибки на любом этапе, кроме последнего. 
9. Дополнительные символы после первой заглавной буквы обозначающей статус - это дополнительные характеристики процесса, например его приоритет.
   Наиболее частые статусы у процессов в системе:  
   `S*` - процессы ожидающие события/завершения (могут быть прерваны);  
   `I*` - фоновые, бездействующие процессы ядра.