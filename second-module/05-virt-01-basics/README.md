# Answers to questions

1. Ответ:
   * Аппаратная: Гипервизор = ОС, использует ресурсы и управляет вм напрямую. Устройства ВМ полностью эмулируют работу оборудования (вплоть до регистров памяти), гостевая ос практически не подозревает о том, что запущена как ВМ.
   * Паравиртуализация: Гостевая ОС(модифицированная) → Гипервизор → Хостовая ОС → Железо. Метод использует технологию виртуализации ЦП для реализации общего доступа гипервизора к базовому оборудованию. Требует специальных драйверов на гостевой ОС и/или модификацию ядра ОС.
   * Виртуализация на основе ОС: Так же называется контейнерной. Ядро хостовой ОС поддерживает несколько изолированых друг от друга пространств. Виртуализируется не сервер и не ОС, а пользовательское окружение, каждый экземпляр которого использует общее ядро ОС.
2. Ответ:
   * Высоконагруженная БД, чувствительная к отказу: Паравиртуализация на кластере серверов, для максимальной стабильности, отказоустойчивости и репликации.
   * Разлицные web-приложения: Контейниризация, для лёгкости масштабирования.
   * Windows-системы для бухгалтерии: Паравиртуализация (так же в кластере), при том предпочтительнее hyper-v, для простоты развёртывания и обслуживания.
   * Системы с высокопроизводительными расчётами на GPU: Аппаратная, для задействования GPU на максимум.
3. Сценарии:
   1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
   2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
   3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
   4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
   Ответы:
   1. В целом из-за преимущества windows-based инфры, возможно стоило бы рассмотреть какую-то гетерогенную систему, частично на hyper-v, частично на proxmox, для лучшей совместимости. Однако, если предпологается гомогенная система, то ESXI или Vsphere, в заисимости от бюджета. Нет ограничений по гостевым ОС, удобно управлять ресурсами, миграциями и резервным копированием.
   2. Proxmox, мне кажется, лучше в open source ничего нет.
   3. Очевидно, free windows hyper-v server. Однако гостевые Windows всё равно необходимо лицензировать.
   4. Docker. Простое развёртывание необходимого окружения, тем более можно автоматизировать процессы.
4. Первая и основная проблема - это управление. Системы могут отличаться и по типу виртуализации и по логике взаимодействия, что, возможно, потребует расширения и/или раздеелния команды для селективного управления. Вторая проблема в разделении физических ресурсов, какие-то кластеры могуть быть собраны на Vsphere, какие-то на hyper-v, и это всегда будут обособленные и отдельные сервера, что может затруднять их обслуживание, эксплуатацию и учёт доступных ресурсов. Однако, если рассматривать в целом, то гетерогенные системы используются почти повсеместно, просто есть основные аппаратная или паравиртуализации (как, например Vsphere, proxmox или hyper-v) и os-based (как docker), для удобства разработки и эксплуатации.
   Создавал бы я сам гетерогенную среду? В случае, если рассматривать использование именно как основных двух разных типов или разных гипервизоров, то почему нет. Может быть клиентская часть будет базироваться на каком-нибудь платном решении, для повышения удобства, простоты обслуживания и эксплуатации, а внутренняя инфраструктура использовать что-то из opensource (тот же proxmox), для экономии средств.