# Answers to questions

1. Уфф, в случае с linux их много: Просмотр их как файлов `ls /sys/class/net` или `cat /proc/net/dev`, `ifconfig`, `ip -br link show`, `netstat -i`.
   Windows: `ipconfig /all`. (Уверен, что это не всё, но знаю только это)
2. Их множество поприетарных, но я думаю, что в данном вопросе речь про LLDP - Link Layer Discovery Protocol. 
   В Linux работа с данным протоколом осуществляется через пакет `lldpd`.
   `lldpctl` - просмотр информации о соседях;
3. Технология называется VLAN -  Virtual Local Area Network, пакет для работы в Linux так и называется `vlan`.
   Ручная настройка осуществляется с помощью `vconfig` (настроенные таким образом вланы работают до перезагрузки). 
   Опции: 
   * `add`;
   * `rem`;
   * `set_flag` (указывает следует ли делать перестановку (reorder) заголовка Ethernet кадра. Если значение 1 — перестановка включена, и трафик в снифферах (tcpdump и т.д)  будет выглядеть как трафик обычного сетевого устройства без тегов VLAN. Если значение 0 — перестановка отключена, и трафик видится с тегами VLAN. Значение по умолчанию: 0);
   * `set_ingress_map` (указывает, что входящие пакеты через vlan-name с определённым приоритетом VLAN vlan_qos, должны помещаться в очередь буфера сокетов с приоритетом  skb_priority. Значение по умолчанию приоритета очереди буфера сокетов skb_priority: 0).
   В Debian-подобных системах для применения настроек vlan при загрузке системы, конфигурация задаётся в файле `/etc/network/interfaces`, как пример:
   ```
   auto vlan1400
   iface vlan1400 inet static
           address 192.168.1.1
           netmask 255.255.255.0
           vlan_raw_device eth0
   ```
4. Типы bonding в Linux:
   * Mode-0(balance-rr) – Данный режим используется по умолчанию. Balance-rr обеспечивается балансировку нагрузки и отказоустойчивость. В данном режиме сетевые пакеты отправляются “по кругу”, от первого интерфейса к последнему. Если выходят из строя интерфейсы, пакеты отправляются на остальные оставшиеся. Дополнительной настройки коммутатора не требуется при нахождении портов в одном коммутаторе. При разностных коммутаторах требуется дополнительная настройка.
   * Mode-1(active-backup) – Один из интерфейсов работает в активном режиме, остальные в ожидающем. При обнаружении проблемы на активном интерфейсе производится переключение на ожидающий интерфейс. Не требуется поддержки от коммутатора.
   * Mode-2(balance-xor) – Передача пакетов распределяется по типу входящего и исходящего трафика по формуле ((MAC src) XOR (MAC dest)) % число интерфейсов. Режим дает балансировку нагрузки и отказоустойчивость. Не требуется дополнительной настройки коммутатора/коммутаторов.
   * Mode-3(broadcast) – Происходит передача во все объединенные интерфейсы, тем самым обеспечивая отказоустойчивость. Рекомендуется только для использования MULTICAST трафика.
   * Mode-4(802.3ad) – динамическое объединение одинаковых портов. В данном режиме можно значительно увеличить пропускную способность входящего так и исходящего трафика. Для данного режима необходима поддержка и настройка коммутатора/коммутаторов.
   * Mode-5(balance-tlb) – Адаптивная балансировки нагрузки трафика. Входящий трафик получается только активным интерфейсом, исходящий распределяется в зависимости от текущей загрузки канала каждого интерфейса. Не требуется специальной поддержки и настройки коммутатора/коммутаторов.
   * Mode-6(balance-alb) – Адаптивная балансировка нагрузки. Отличается более совершенным алгоритмом балансировки нагрузки чем Mode-5). Обеспечивается балансировку нагрузки как исходящего так и входящего трафика. Не требуется специальной поддержки и настройки коммутатора/коммутаторов. 
   Перед настройкой необходимо проверить, загружен ли драйвер `sudo modprobe bonding` и установить пакет `ifupdown`.
   Сконфигурировать, опять же, можно через `ip link` (будет работать до перезагрузки):
   ```
   # ip link add bond0 type bond mode 802.3ad
   # ip link set eth0 master bond0
   # ip link set eth1 master bond0
   ```
   Или, через правку конфигурационных файлов `etc/network/interfaces`:
   ```
   auto bond0
   iface bond0 inet static
       address 192.168.1.150
       netmask 255.255.255.0    
       gateway 192.168.1.1
       dns-nameservers 192.168.1.1 8.8.8.8
       dns-search domain.local
           slaves eth0 eth1
           bond_mode 0
           bond-miimon 100
           bond_downdelay 200
           bound_updelay 200
    ```
5. В /29 подсети 8 ip, 1-ый адрес подсети, последний broadcast, значит, на хосты остаётся 6 адресов.
   В /24 подсети 256 адресов, значит, подсеть 10.10.10.0/24 можно разделить на 32 подсети с 10.10.10.0/29 до 10.10.10.248/29
6. Считал с помощью `ipcalc`, оптимально использовать /26 подсети по 64 хоста в сети 100.64.0.0:
   ```
   $ ipcalc 100.64.0.0/10 -s 50
   Address:   100.64.0.0           01100100.01 000000.00000000.00000000
   Netmask:   255.192.0.0 = 10     11111111.11 000000.00000000.00000000
   Wildcard:  0.63.255.255         00000000.00 111111.11111111.11111111
   =>
   Network:   100.64.0.0/10        01100100.01 000000.00000000.00000000
   HostMin:   100.64.0.1           01100100.01 000000.00000000.00000001
   HostMax:   100.127.255.254      01100100.01 111111.11111111.11111110
   Broadcast: 100.127.255.255      01100100.01 111111.11111111.11111111
   Hosts/Net: 4194302               Class A

   Requested size: 50 hosts
   Netmask:   255.255.255.224 = 27 11111111.11111111.11111111.111 00000
   Network:   100.64.0.0/27        01100100.01000000.00000000.000 00000
   HostMin:   100.64.0.1           01100100.01000000.00000000.000 00001
   HostMax:   100.64.0.30          01100100.01000000.00000000.000 11110
   Broadcast: 100.64.0.31          01100100.01000000.00000000.000 11111
   Hosts/Net: 30                    Class A

   Needed size:  64 addresses.
   Used network: 100.64.0.0/26
   Unused:
   100.64.0.64/26
   100.64.0.128/25
   100.64.1.0/24
   100.64.2.0/23
   100.64.4.0/22
   100.64.8.0/21
   100.64.16.0/20
   100.64.32.0/19
   100.64.64.0/18
   100.64.128.0/17
   100.65.0.0/16
   100.66.0.0/15
   100.68.0.0/14
   100.72.0.0/13
   100.80.0.0/12
   100.96.0.0/11
   ```
7. Windows:
   `arp -a` - вывод таблицы;
   `netsh interface ip delete arpcache` - очистка таблицы.
   Linux:
   Утилита `arp` в составе `net-tools` -
   `arp` - вывод таблицы;
   `arp -d` - удаление одного адреса из таблицы;
   `ip negh flush all` or `ip link set arp off dev enp0s3; ip link set arp on dev enp0s3` - очистка таблицы.
8. Попробовал эмулятор, прикольно, напомнил cisco packet traicer.