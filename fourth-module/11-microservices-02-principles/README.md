## Task 1

В целом, на рынке достаточно решений, которые удовлетворяют данным потребностям, как пример:
- Облачные решения:
  - Amazon API Gateway
  - Google API Gateway
  - Oracle API Gateway
- Локальные:
  - Nginx
  - KrakenD
  - Tyk

Лично я бы остановил свой выбор на nginx: популярный продукт, большое сообщество и хорошая документация. А в блоге даже [описывались](https://www.nginx.com/blog/choosing-the-right-api-gateway-pattern/) возможные реализации этого самого API Gateway на базе nginx. На основе потребностей я бы предпочёл `microgateway`.

## Task 2

Выбрал 4 основных брокера, вот таблица:

Задача \ Брокер | Kafka | Redis | RabbitMQ | ActiveMQ
:---: | :---: | :---: | :---: | :---:
Поддержка кластеризации для обеспечения надежности | + | + | + | + |
Хранение сообщений на диске в процессе доставки | + | - | + | + |
Высокая скорость работы | + | + | + | - |
Поддержка различных форматов сообщений | + | + | + | - |
Разделение прав доступа к различным потокам сообщений | + | + | + | + |
Простота эксплуатации | + | + | + | + |

Больше всего подходят Kafka и RabbitMQ, но точный выбор следует делать уже на основе конкретного приложения.
Kafka - pull-модель, а кролик push. Kafka проще в масштабировании и поддержании порядка сообщений, но при этом кролик позволяет подписчикам упорядочивать произвольные группы событий, что бы они не конкурировали за получение сообщений.

## Task 3

Через крик, боль, страдание, унижение и принятие был написан достаточно простой файлик [default.conf](src/gateway/default.conf), написан за 5-7 минут, после чего наступили лютые муки дебага.

Задание подано некорректно, а файлы "помощи" больше путают, чем помогают. В [server.py](src/security/src/server.py) отсутствует метод `GET /v1/user`, и более того, сам контейнер безопасности ничерта не работает:
```python
    except jwt.ExpiredSignatureError:
        return 'Signature expired. Please log in again.'
    except jwt.InvalidTokenError:
        return 'Invalid token. Please log in again.'
```
И эта программа просто выдаёт код 200 и пускает дальше :)))

Но и это ещё не всё: `/usr/bin/mc policy set download` deprecated, он банально не проставляет права и не даёт загружать файлы из бакета. И авторизацию адекватно подставить не даёт.
Нужно использовать `/usr/bin/mc anonymous set download` (хотя я плюнул и поставил паблик).


p.s. Заметка для проверяющего. Я понимаю, что вы скорее всего никакого отношения к этому репозиторию не имеете, поэтому прошу прощения за этот всплеск эмоций.